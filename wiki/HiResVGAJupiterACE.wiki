#summary Propfroth HiResVGA.spin implements Jupiter ACE type functionality on the Prop
#labels v3.4

= Introduction =

[ http://en.wikipedia.org/wiki/Jupiter_AceSee Wikipedia article on Jupiter ACE ]

Propforth 3.4 includes the file HiResVGA.spin 

When loaded into the prop, it provides the propforth kernel and VGA support for the prop demo board pinout for VGA and keyboard or similar.  This allows a standalone Jupiter ACE - type forth based PC. 

Propforth v3.4 includes the first PROTOTYPE for the Prop Jupiter ACE code. This is an ALPHA VERSION, meaning is functionally complete but needs testing. Due to the nature of the project, the team does not have the resources to properly conduct formal testing.  Therefore, we ask that interested users experiment and submit any issues to the team.  

= LOADING Jupiter ACE to the prop =

Using a Prop Demo Board or similar, 

 # Load HiResVGA.spin
 # Load HiResVGA.f
 # Execute saveforth

The prop now has the High Resolution VGA support added to propforth, saved to eeprom.

Loading HiResVGA leaves about 4k availble 

NOTE: After loading HiResVGA.spin, a connected VGA terminal will display a blue background with left arrows and a bunch of arbitrary character at the bottom of the screen.  HiResVGA.f must be loaded via the serial terminal to complete the VGA installation.  The saveforth word must be executed to store the final image to eeprom; otherwise, the VGA functionality will be lost after power cycle.

= serial Monitor =

The default propforth serial monitor runs on cog5 instead of cog 6. 

ADVANCED - The propforth word "fastload" uses next highest cog, or wraps around.  This is why cog 6 is unoccupied at startup

= VGA =

VGA is 128 characters by 64 lines

Screen is divided into two sections, by default top half and bottom half.

Each section allows interaction with an independent cog

Color is controlled per line (not per character)

== controlling screen attributes ==

Printing to the screen sends VGA control messages to the VGA task.

Printing "c" followed by a color value will change the line to that color.

Example

{{{  c emit 1 emit }}}

changes the line to RED

Printing a "0" to the screen will clear the screen and set the cursor to the home location

Example

{{{ 0 emit }}}

= Keyboard =

Keyboard interface can be switched to the other cog using ALT-TAB

= Mouse =

Mouse is not implemented at this time

= Audio =

Audio is not implemented at this time

= Diagnostics =

The file hiresvga.f includes a section at the bottom that is commented out. 

Copy the text between the curly brackets (including the fl) and paste this into the serial terminal window. 

Type vt at the prop keyboard to see the first VGA cog perform the test suite.

ALT-TAB to the other cog and type VT again; both cogs will perform the tests simultaneously.

AT the serial terminal, also type VT. 