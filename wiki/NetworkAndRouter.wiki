#summary Tips for Setting up Network and Router
#labels v5.0

<wiki:toc max_depth="9" />


= Introduction =

Each brand for Network and Router hardware is a little bit different.  Either the terminology is different, or the way something is implemented or some little detail is just different enough to get one confused. 

After switching internet providers recently, my personal network (inside the ISP's cable modem) stopped working.  Go figure.  In sorting is out, I missed one or two details, and ending up making everything worse.

Here are some tips, maybe it will be easier next time.

= What Propforth needs =

Propforth can see the internet (at least) two ways, if you set it up to permit it. One way it to be associated with you PC's Ethernet device.  The other way is using its own internet device, such as the Spinneret board or similar, such as the wiznet5100 module.

Propforth needs to know something about your network. Propforth also nees to know something about your hardware.

== What to edit ==

There are a couple places to enter this cofiguration parameters depending on what you are doing.

=== the test automation === 

Th Go-Terminal support is set up so we can pre-configure the scripts.  This way we don't have to edit the actual spin files, etc. 

This is at...

 
 `..\mygo`

in the file 

 `goshell.bat`

In most cases,  `goshell.bat` is the only files  you have to edit to get the network running. 

=== Debugging the general configuration ===

When I changed internet providers, things stopped working, and I had to do additional debugging. 

IF you are debugging, and just want to test that the network runs, 

in directory `referenceResults\Outputfiles`

edit the file

`IPKernel.spin`

lines 110 to 138

All the defaults worked for me in this file, so you should not have to edit it unless you use other than 192.168.0.1; etc.

Load this spin file onto your spinneret board, and verify that you can ping the spinneret address. Verify you can telnet to the propforth prompt.  If these work, you have your router configure correctly.  

This is the diagnostic I used to get my static IP address assignment sorted out (below). 

-----
== Internal network IP ==

=== internal gateway network address  (your router) ===
{{{
REM					192.168.0.1
set dlrS_ip_gatewayhi=$C0_A8
set dlrS_ip_gatewaylo=$00_01
}}}

=== internal subnet mask ===

{{{
REM					255.255.255.0
set dlrS_ip_subnetmaskhi=$FF_FF
set dlrS_ip_subnetmasklo=$FF_00
}}}
-----

== local hardware ==

=== spinneret/WIZNET static ip ADDRESS ===
{{{
REM					192.168.0.129
set dlrS_ip_addrhi=$C0_A8
set dlrS_ip_addrlo=$00_81
}}}

NOTE the Spinneret address is NOT included in your dynamic DNS address range.  Also, STATIC ADDRESS devices are not displayed in you lost of devics that have an address on some router.  On one system, I could make an entry for the spinneret so it would display "spinneret" as associated with 192.168.0.129. On another system, this setting cause the spinneret to not exist on the network.  

=== SPINNERET/Wiznet5100 MAC address ===

You have to check the spinneret board and read the MAC address printed on it, and enter it in the text file.  

{{{

REM					00:xx:xx:xx:00:xx
set dlrS_ip_machi=$00_xx
set dlrS_ip_macmid=$xx_xx
set dlrS_ip_maclo=$00_xx
}}}

=== comport === 

The comport gets assigned by the PC (Windows in my case) automatically for each FTDI chip that gets connected.  There is a routing that can clear the old comprts if there gets to be too many. I had a problem when the number went above 28 or so.  I ran the routing and the the next Quickstart assigned was com3 again. 

http port

{{{
set dlrS_ip_httpport=8080
}}}

HTTP port is often 8080, and this seems to work in our testing so far. 

telnet ports

{{{
set dlrS_ip_telnetport=3020
}}}

Some providers don't let us assign the "normal" telnet port, which would be 22.  So we use an uncommon number, 3020 as our first telnet port.  You can use any number that woks. Just make sure that port isn't being used for something else. 

-----

== propforth configuration for network ==

=== number of telnet sockets  ===

{{{set dlrS_ip_numsock=4}}}

Propforth can use four telnet sessions with no problems

=== number of telnet ports ===

set dlrS_ip_numTelnet=4

The telent ports are four sequential port numbers starting with  `dlrS_ip_telnetport`

=== IP cog  ===

IP cog is the cog to run the IP support

{{{set dlrS_ip_cog=5}}}

The test automeation assigns COG5 as the IP cog.

= Details =



Add your content here.  Format your content with:
  * Text in *bold* or _italic_
  * Headings, paragraphs, and lists
  * Automatic links to other wiki pages