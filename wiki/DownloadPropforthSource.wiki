#summary Download the PropForth source code text files to the propeller chip
#labels v3.2

= Introduction =

The page discusses how to create the [http://code.google.com/p/propforth/wiki/PropForthspin PropForth.spin] file from the high level forth source definitions.  This is the method used when the forth system is to be redesigned and redefined in forth.  This is normally not required unless extensive changes to the forth system are needed.  

The PropForth kernel source code in is two text files, [http://code.google.com/p/propforth/wiki/PropForthPart1 PropforthPart1.f] and [http://code.google.com/p/propforth/wiki/PropForthPart2 PropforthPart2.f].  These files contain the forth source code that was used to create [http://code.google.com/p/propforth/wiki/PropForthspin?ts=1279464157&updated=PropForthspin PropForth.spin].

The forth source code is loaded into the propeller chip running forth.

Once the kernel source code is loaded into the propeller chip,  an additional forth word, spinmaker, generates spin code from these definitions.  The definitions for the spinmaker word and its supporting words are in spinmakerPart1.f and spinmakerPart2.f

The files must be loaded in proper sequence.  This is

[http://code.google.com/p/propforth/wiki/PropForthPart1 PropforthPart1.f]

[http://code.google.com/p/propforth/wiki/PropForthPart2 PropforthPart2.f]

spinmaker.f

= Load the four source files into the prop =

Downloading is done by pasting the source file contents into the teraterm window as described in DownloadSourceText.

Be sure that the word FL is present at the begining of each file.


= execute the spinmaker word =

After all four files have been loaded in the proper order, execute the spinmaker word at the forth command prompt

spinmaker

A few lines of text will be displayed, starting with

ForthDictStart

After a few seconds, a large amount of text will scroll across the window.  This text will later be captured and pasted into the PropForth-template.spin file.

Upon completion the last lines to be displayed are 

ForthDictEnd
ForthMemoryEnd

= Paste the output of spinmaker into PropForth-template.spin =

Copy the text from the teraterm window or from the teraterm logfile and paste it into the PropForth-template.spin file.  Be sure to search for and update the version string in resultant file. Name the file as appropriate, the suggestion is to name the file similar to the version string to ease identification.  

  
= Load the new version of [http://code.google.com/p/propforth/wiki/PropForthspin PropForth.spin] into eeProm =

Use the Propeller Tool to load the new [http://code.google.com/p/propforth/wiki/PropForthspin PropForth.spin] file into the propeller's eeProm.

Start TeraTerm and verify the forth prompt is present.

Type 
reboot
to display the propForth startup message.  Verify the version string displayed matches the version string in [http://code.google.com/p/propforth/wiki/PropForthspin PropForth.spin]