#summary Possible Cause and Solution for Intermittent Errors in Propforth.
#labels v5.3,Phase-QA,Phase-Requirements

= Intermittent Errors =

During v5.3 final test, intermittent errors were found.  Since these cannot be consistently reproduces, they are very hard to track down. Since we can't tell what is causing the problem, we can't tell what to fix.  These are difficult to correct.

= Cause =

We think is was the Power Supply.   The common "wall wart" switching power supply used was rated for the middle of the range of the prop input voltage, and had about 3x the necessary current rating.  It SHOULD have been just fine, according to the ratings. 

== In-Rush Current ==

In Rush current is the large current required when a part starts up.  If In Rush current were the issue, we would have notices something each time the rig starts up.  But this was not the case

== Surge Current ==

Surge Current is similar to in rush current, except its not at start up. When a parts starts operating and doing its thing, certain functions can suddenly draw a bunch more current. Sometimes, several parts start doing heavy current draw operations at the same time and can result in a surge, and the wall wart cannot keep up. There is a "sag" in the voltage or current. If the sag is severe, the micro processor may reset, otherwise if might "appear" that things operated correctly. The result could be an operation fails (and gives and error) or it could be that something just "doesn't work right" and results in a condition that is detectable as an error, but did not immediately "fail".


= Symptoms =

In the automated regression test suite, the  Telnet and HTTP tests use both the protoboard and the spinneret.  Also, the slave propchip is still connected and remains in whatever state is was in at the end of its final test.  So the whole rig is running. 

The code that was previously compiled in the MAKE automation in run on the protoboard.  Using the serial function, the Telnet and HTTP code is sent to the Spinneret for execution and testing. 

During testing, the telnet test fails when the telnet kernel does not respond. Message is:

_put actual message in here_

{{{
Telnet -- No Response
}}}

If the telnet test passes, the HTTP test test fails when the HTTP kernel does not respond. Message is:

_put actual message in here_

{{{
HTTP -- No Response
}}}

= Solution =

A separate wall wart was added to the spinneret.  While the protoboard is using a standard parallax 7.2 volt 1000 mA  wall wart, the spinneret got a 6.5 volt 300 mA junky one harvested from a cordless phone. 

All issues stopped.  Everything passes and works just fine.  It must have been _JUST_ at the borderline.


= Details =