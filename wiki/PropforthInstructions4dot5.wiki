#summary Propforth 4.5 Instructions.
#labels Phase-Implementation,Phase-QA,Phase-Deploy,Phase-Support,v4.5

= Introduction & Preparation =

All information required to use Propforth 4.5 is included in the zip archive.  This page is a summary and further explanation for the more complex points.  Please join the discussion here or on the parallax forums in the propforth 4.5 thread.

The TESTS are the TUTORIAL.  If you run the tests, you will see all the functions work.  You will then be able to modify the examples or at least ask well formed questions.  The tests are EASY and take about an hour, at the end of which you will have seen every function in PropForth. 


== LOAD means various thing based on context ==

  * load file.f - this mean open the file in your editor, select the entire contents of the file (CTL-A), copy the entire contents of the file  (CTL-C), and paste it into the terminal program (CTL-V)
  * fsload file.f - load the file from EEPROM - the file was previously copy-and-pasted into the terminal program, and was sent to EEPROM.  Now it can be loaded from EEPROM
  * fload file.f - load the file from SD - the file was previously copy-and-pasted into the terminal program, and was sent to SD.  Now it can be loaded from SD

We will work on making the load words clearer in the 5.x releases.  The current method is a little funny at first, but its livable for the time being. 

== Instructions for using Propforth 4.5 == 

  #. download the zip archive from http://code.google.com/p/propforth/downloads/list  [add link when posted]
  #. Read the ReadMe.txt to find what is in the archive
  #. Build the example hardware test bed
  #. execute the tests to learn to use the functions in the release
  #. post questions and suggestion here

== Required Hardware ==

  #. A PC or equivalent to load Propforth.spin to the prop
  #. terminal program to communicate with the propforth command prompt
  #. Protoboard or equivalent
  #. Spinneret Board or equivalent (for ETHERNET connection)
  #. propplug or equivalent to load PropforthKernel.spin to propboard and Spinneret the first time
  #. Bare propchip (40 pin DIP) or equivalent (for ROM-less Slave tests) 
  #. Breadboard or equivalent
  #. power supply (parallax 7.2 volt wall wart or equivalent)
  #. Micro SD card for the Spinneret slot.  This will be internal to propforth and is not intended to be FAT compatible.  SD cards are cheap, just get the cheapest one and you'll be fine
  #. passive components
  * for Spinneret
    *. power connection - can run from protoboard power
    *. 2 @ 220 ohm resistors asynchronous serial channel to slave
  * for ROMless Slave (MultiChannel High Speed Synchronous Serial)
    * four @ 220 ohm resistor
      * 2 for high seed synchronous serial channel to slave
      * 2 for ROM emulation channel to slave
    *. two @ .1uF capacitor (non polar) 
      * between power and ground pins on slave prop
      * there are two pairs of power and ground pins on the prop
   *. 1 @ 10k resistor (pull-up for EEPROM emulation line
   *. around 11 jumper wires depending on how you make your connections

=== BUILDING the Hardware Test Bed ===

It is recommended that you build the hardware test bed.   All the tests were deigned for the described hardware.  The alternative is to modify all the software to fit your arbitrary configuration.  This is fine, but your should do this AFTER you are familiar with the software, and know how everything works.  Using the test bed at least once (till you get to know whats going on) is the recommended method to learn propforth.

[ Schematic goes here.  Brian Riley, please create? ]

== Required Software ==

  * For Windows PC - Propeller Tool
  * For MAC - BST(?)  - [Brian, please correct?] 
  * For Linux - (?)  - [anybody using Linux?]

Telnet  Terminal - DIGITAL VT100 or Equivalent emulator E.G:
  * On Windows: Teraterm 4.65 is fine
  * On MAC: (?)
  * On Linux: (?)
  * On iPhone: Telnet Mocha Lite (Free)

== OTHER Configurations ==

You don't have to do this yet, just start thinking about it.  These come into play at the final tests for the Spinneret.  The examples are defined as below so they conflict with the things that "normally" use those the default ports for telent, http

  #. IP Address for your Spinneret.  DECIDE an IP ADDRESS for you Spinneret.  EG 192.168.1.17
  #. Internet Ports for your Spineret TELNET.  DECIDE a (range of) ports for your TELNET server EG 2023-2026
  #. Internet Ports for your HTTP.  DECIDE a (range of) ports for you HTTP server EG 8080
  #. Set up your router. DECIDE if your Spinneret can reach the internet
Configure your Router and FIREWALL to let your Telnet and HTTP visible on the internet, or not.  Configuring your router is beyond the scope of this discussion, but instructions are available all over the internet. 

= Running the Tests / Learning PropForth =

At this point, you have downloaded the archive to your PC, read the README.TXT, found the tests directory, found the hardware instructions, and built the test bed (or as much as you are interested in at the moment). 

Running the Tests takes about an hour.  ITS EASY.

AFTER you initialize the SD, the behavior changes. The initialization test CANNOT be repeated unless you have an uninitialized SD card.  Un-initializing an SD card is beyond the scope of this discussion, but instructions are available all over the net. You won't need to anyway.  I had to run the tests multiple times to perfect the test, nobody else needs to. (But if you figure out how and wnat to help with the regression tests contact me).  

= Additional Notes =

The SD subdirectory contain support for Secure Digital cards.
The tests are design for use with the Spinneret board; however, they will work on any SD card with an equivalent pinout. (pins 16-21)  

If YOU WISH TO USE SD on a non-spinneret configuration, look for intructions on hacking an microSD Adaptor.  I have not documented my micro SD adaptor hack yet, but I used caskaz's posts, and the spinneret schematic, and various articles found on the net. The key is to determine:
Adapter - Prop - Parallel / SPI
  8     - P17  - DAT1    
  7     - P16  - DAT0 / MISO / DO
  6     - Vss  - Vss  / Vss
  5     - P21  - SCLK
  4     - Vdd  - Vdd  / Vdd
  3     - Vss  - Vss  / Vss
  2     - P20  - CMD  / MOSI / DI
  1     - P19  - DAT3 / CS
  9     - P18  - DAT2  

[ caskaz SD schematic here? check spinneret pinout ]

= End of supplemental instructions =

More instructions will be added as needed. 